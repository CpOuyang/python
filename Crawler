import urllib.request

def crawl(url, dest, level = 1):
    if (level == 0):
        return

    fout = open(dest, "w", encoding="utf-8")

    with urllib.request.urlopen(url) as f:
        buffer = f.read()
        while(buffer):
            print(buffer.decode("utf-8"), file=fout)
            buffer = f.read()

    fout.close()

crawl("http://news.cnyes.com/", "d:\\1.htm")
